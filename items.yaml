version: 1
# Any item whose category is in this list gets job-based shop discounts (e.g., Mechanic).
discountable_categories: [upgrade, device, storage, camp_gear, pro_gear]

items:
  # --- Supplies / resources ---
  - id: food
    label: "food"
    category: consumable
    price: 5
    info: "+1 ration (respects food cap)"
    purchase:
      type: resource
      resource_attr: food
      amount: 1
      cap_attr: food_cap_rations

  - id: water
    label: "water"
    category: consumable
    price: 1
    info: "+1.0 L (respects water cap)"
    purchase:
      type: resource
      resource_attr: water
      amount: 1.0
      cap_attr: water_cap_liters

  # --- Capacity & power upgrades ---
  - id: solar
    label: "solar"
    category: upgrade
    price: 400
    info: "+200W (respects vehicle solar cap)"
    purchase:
      type: stat_inc
      attr: solar_watts
      amount: 200
      cap_attr: solar_cap_watts

  - id: wind
    label: "wind"
    category: upgrade
    price: 300
    info: "+100W (respects vehicle wind cap)"
    purchase:
      type: stat_inc
      attr: wind_watts
      amount: 100
      cap_attr: wind_cap_watts

  - id: battery
    label: "battery module"
    category: upgrade
    price: 1200
    info: "+40 mi EV range (cap 360 mi)"
    purchase:
      type: stat_inc
      attr: ev_range_mi
      amount: 40
      cap_abs: 360

  - id: storage
    label: "storage"
    category: storage
    price: 300
    info: "+10L water cap & +5 rations (to max)"
    purchase:
      type: multi_inc
      incs:
        - { attr: water_cap_liters, amount: 10, cap_attr: max_water_cap }
        - { attr: food_cap_rations,  amount: 5,  cap_attr: max_food_cap }

  - id: tent
    label: "tent"
    category: camp_gear
    price: 150
    info: "enables cozier dispersed camping"
    purchase:
      type: flag
      attr: has_tent

  # --- Devices (electrical) ---
  - id: fridge
    label: "fridge"
    category: device
    price: 800
    info: "~2A draw when ON"
    purchase:
      type: device_install
      device_key: fridge
      amps: 2.0
      toggle: true

  - id: starlink
    label: "starlink"
    category: device
    price: 500
    info: "~4A draw when ON; enables remote work anywhere with sky"
    purchase:
      type: device_install
      device_key: starlink
      amps: 4.0
      toggle: true

  - id: diesel_heater
    label: "diesel_heater"
    category: device
    price: 200
    info: "~1.2A when ON; burns diesel_can"
    purchase:
      type: device_install
      device_key: diesel_heater
      amps: 1.2
      toggle: true

  - id: propane_stove
    label: "propane_stove"
    category: device
    price: 80
    info: "uses propane_lb when cooking"
    purchase:
      type: device_install
      device_key: propane_stove
      toggle: false

  - id: jetboil
    label: "jetboil"
    category: device
    price: 120
    info: "uses butane_can when cooking"
    purchase:
      type: device_install
      device_key: jetboil
      toggle: false

  # --- Fuels (consumables) ---
  - id: extra_fuel
    label: "extra fuel"
    category: fuel
    price: 3
    info: "extra fuel for the vehicle (per gallon)"
    purchase:
      type: fuel_add
      fuel_attr: extra_fuel
      per_unit: 1.0  # each adds 1 gallon

  - id: diesel_can
    label: "diesel_can"
    category: fuel
    price: 5
    info: "fuel for diesel_heater (per gallon)"
    purchase:
      type: fuel_add
      fuel_attr: diesel_can_gal
      per_unit: 1.0  # each adds 1 gallon

  - id: propane_lb
    label: "propane_lb"
    category: fuel
    price: 3
    info: "fuel for propane_stove (per lb)"
    purchase:
      type: fuel_add
      fuel_attr: propane_lb
      per_unit: 1.0

  - id: butane_can
    label: "butane_can"
    category: fuel
    price: 6
    info: "fuel for jetboil (per can)"
    purchase:
      type: fuel_add
      fuel_attr: butane_can
      per_unit: 1.0

  # --- Pro gear examples you can extend freely ---
  - id: laptop
    label: "laptop"
    category: pro_gear
    price: 1200
    info: "~3A draw when ON"
    purchase:
      type: device_install
      device_key: laptop
      amps: 3.0
      toggle: true

  - id: telescope
    label: "telescope"
    category: pro_gear
    price: 900
    info: "~1A draw when ON"
    purchase:
      type: device_install
      device_key: telescope
      amps: 1.0
      toggle: true

  - id: engine_tune
    label: "engine_tune"
    category: upgrade
    price: 350
    info: "small efficiency bump (mpg on fuel rigs; EV range on electric)"
    purchase:
      type: effect_list
      effects:
        - type: mode_inc
          mode: fuel
          attr: mpg
          amount: 2
          cap_rel_attr: mpg           # base = VEHICLES[vehicle]['mpg']
          cap_rel_delta: 6            # base + 6
        - type: mode_inc
          mode: electric
          attr: ev_range_mi
          amount: 10
          cap_rel_attr: ev_range      # base = VEHICLES[vehicle]['ev_range']
          cap_rel_delta: 40           # base + 40
